# Production Environment Configuration
# No Code Architect Toolkit

# The name of your application.
APP_NAME=NCAToolkit

# Debug mode setting. Set to `false` for production environments.
APP_DEBUG=false

# Your app's domain or subdomain, without the 'http://' or 'https://' prefix.
APP_DOMAIN=example.com

# Full application URL is automatically configured; no modification required.
APP_URL=https://${APP_DOMAIN}

# SSL settings
SSL_EMAIL=user@example.com

# API_KEY
# Purpose: Used for API authentication via X-API-Key header.
# Requirement: Mandatory.
API_KEY=your_api_key_here

################################################################################
# CLOUD STORAGE CONFIGURATION (Choose ONE provider below)
################################################################################

# ==============================================================================
# OPTION 1: Cloudflare R2 (Recommended - Zero egress fees)
# ==============================================================================
# R2 is S3-compatible object storage from Cloudflare with:
# - Zero egress fees
# - Global distribution
# - S3 API compatibility
#
# Setup Instructions:
# 1. Go to Cloudflare Dashboard → R2
# 2. Create a bucket (e.g., "nca-toolkit-prod")
# 3. Go to "Manage R2 API Tokens" → Create API Token
# 4. Grant "Object Read & Write" permissions
# 5. Get your Account ID from the R2 overview page
# 6. (Optional) Set up custom domain for public access
#
# IMPORTANT: Use S3_* variable names (NOT AWS_* names!)
#
S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
# OR if using custom domain:
# S3_ENDPOINT_URL=https://cdn.yourdomain.com

S3_ACCESS_KEY=your_r2_access_key_id
S3_SECRET_KEY=your_r2_secret_access_key
S3_BUCKET_NAME=your-bucket-name
S3_REGION=auto
# R2 regions: auto, wnam, enam, weur, eeur, apac
# Use 'auto' for automatic, or specific region for jurisdiction requirements

# ==============================================================================
# OPTION 2: Amazon S3 / MinIO / DigitalOcean Spaces
# ==============================================================================
# For S3-compatible services (Amazon S3, MinIO, DigitalOcean Spaces, etc.)
#
# S3_ENDPOINT_URL=https://s3.amazonaws.com
# S3_ACCESS_KEY=your_access_key
# S3_SECRET_KEY=your_secret_key
# S3_BUCKET_NAME=your-bucket-name
# S3_REGION=us-east-1

# ==============================================================================
# OPTION 3: Google Cloud Storage
# ==============================================================================
# GCP_SA_CREDENTIALS
# Purpose: The JSON credentials for the GCP Service Account.
# Requirement: Mandatory if using GCP storage.
# GCP_SA_CREDENTIALS=/path/to/your/gcp/service_account.json

# GCP_BUCKET_NAME
# Purpose: The name of the GCP storage bucket.
# Requirement: Mandatory if using GCP storage.
# GCP_BUCKET_NAME=your_gcp_bucket_name

################################################################################
# OPTIONAL CONFIGURATION
################################################################################

# LOCAL_STORAGE_PATH
# Purpose: The local file system path for temporary file storage during processing.
# Default: /tmp
# Requirement: Optional.
LOCAL_STORAGE_PATH=/tmp

# MAX_QUEUE_LENGTH
# Purpose: Maximum number of concurrent tasks in the queue
# Default: 0 (unlimited)
# Recommendation: Set based on server resources (e.g., 10-20 for smaller instances)
# MAX_QUEUE_LENGTH=10

# GUNICORN_WORKERS
# Purpose: Number of worker processes for handling requests
# Default: Number of CPU cores + 1
# Recommendation: 2-4× number of CPU cores for CPU-bound workloads
# GUNICORN_WORKERS=4

# GUNICORN_TIMEOUT
# Purpose: Timeout (in seconds) for worker processes
# Default: 30
# Recommendation: Increase for large media files (e.g., 300-600)
# GUNICORN_TIMEOUT=300

################################################################################
# GOOGLE CLOUD RUN JOBS (OPTIONAL)
################################################################################
# Purpose: Offload long-running tasks to Cloud Run Jobs for scalability
# Requirement: Optional. Configure if you want to use GCP Cloud Run Jobs.

# GCP_JOB_NAME
# Purpose: Name of the Cloud Run Job to trigger for long-running tasks
# Requirement: Required if using Cloud Run Jobs
# GCP_JOB_NAME=your-cloud-run-job-name

# GCP_JOB_LOCATION
# Purpose: GCP region where the Cloud Run Job is deployed
# Requirement: Optional. Defaults to us-central1
# GCP_JOB_LOCATION=us-central1

################################################################################
# COMMON MISTAKES TO AVOID
################################################################################
# ❌ WRONG: Using AWS_* variable names (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_ENDPOINT_URL)
# ✅ CORRECT: Use S3_* variable names (S3_ACCESS_KEY, S3_SECRET_KEY, S3_ENDPOINT_URL)
#
# ❌ WRONG: Missing S3_REGION for R2
# ✅ CORRECT: Always set S3_REGION (use 'auto' for R2 if unsure)
#
# ❌ WRONG: Using private bucket without proper R2 configuration
# ✅ CORRECT: Set bucket to public in R2 dashboard for direct file access
